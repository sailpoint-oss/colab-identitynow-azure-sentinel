{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "virtualMachineResourceGroup": {
      "type": "string"
    },
    "virtualMachineName": {
      "defaultValue": "sailpointeventcollector",
      "type": "string"
    },
    "dashboardName": {
      "defaultValue": "SailPoint_IdentityNow_SearchEvents",
      "type": "string"
    },
    "location": {
      "type": "string",
      "defaultValue": "[resourceGroup().location]"
    }
  },
  "variables": {},
  "resources": [
    {
      "properties": {
        "lenses": {
          "0": {
            "order": 0,
            "parts": {
              "0": {
                "position": {
                  "x": 0,
                  "y": 0,
                  "colSpan": 18,
                  "rowSpan": 1
                },
                "metadata": {
                  "inputs": [],
                  "type": "Extension/HubsExtension/PartType/MarkdownPart",
                  "settings": {
                    "content": {
                      "settings": {
                        "content": "",
                        "title": "SailPoint IdentityNow Search Events and Event Triggers",
                        "subtitle": "",
                        "markdownSource": 1
                      }
                    }
                  }
                }
              },
              "1": {
                "position": {
                  "x": 0,
                  "y": 1,
                  "colSpan": 4,
                  "rowSpan": 4
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "52be6a2f-d0b9-40f5-813d-be6134134727",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P7D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Events_CL | count \n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "Query": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| count \n\n",
                      "PartTitle": "SailPointIDN_Events",
                      "PartSubTitle": "Total Count",
                      "IsQueryContainTimeRange": true
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "2": {
                "position": {
                  "x": 4,
                  "y": 1,
                  "colSpan": 5,
                  "rowSpan": 4
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "options",
                      "value": {
                        "chart": {
                          "metrics": [
                            {
                              "resourceMetadata": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                              },
                              "name": "requests/count",
                              "aggregationType": 7,
                              "namespace": "microsoft.insights/components",
                              "metricVisualization": {
                                "displayName": "Server requests",
                                "resourceDisplayName": "[parameters('virtualMachineName')]",
                                "color": "#0078D4"
                              }
                            }
                          ],
                          "title": "Server requests",
                          "titleKind": 2,
                          "visualization": {
                            "chartType": 3
                          },
                          "openBladeOnClick": {
                            "openBlade": true,
                            "destinationBlade": {
                              "bladeName": "ResourceMenuBlade",
                              "parameters": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                "menuid": "performance"
                              },
                              "extensionName": "HubsExtension",
                              "options": {
                                "parameters": {
                                  "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                  "menuid": "performance"
                                }
                              }
                            }
                          }
                        }
                      },
                      "isOptional": true
                    },
                    {
                      "name": "sharedTimeRange",
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                  "settings": {
                    "content": {
                      "options": {
                        "chart": {
                          "metrics": [
                            {
                              "resourceMetadata": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                              },
                              "name": "requests/count",
                              "aggregationType": 7,
                              "namespace": "microsoft.insights/components",
                              "metricVisualization": {
                                "displayName": "Server requests",
                                "resourceDisplayName": "[parameters('virtualMachineName')]",
                                "color": "#0078D4"
                              }
                            }
                          ],
                          "title": "Server requests",
                          "titleKind": 2,
                          "visualization": {
                            "chartType": 3,
                            "disablePinning": true
                          },
                          "openBladeOnClick": {
                            "openBlade": true,
                            "destinationBlade": {
                              "bladeName": "ResourceMenuBlade",
                              "parameters": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                "menuid": "performance"
                              },
                              "extensionName": "HubsExtension",
                              "options": {
                                "parameters": {
                                  "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                  "menuid": "performance"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "local",
                        "granularity": "auto",
                        "relative": "43200m"
                      }
                    }
                  }
                }
              },
              "3": {
                "position": {
                  "x": 9,
                  "y": 1,
                  "colSpan": 5,
                  "rowSpan": 4
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "options",
                      "value": {
                        "chart": {
                          "metrics": [
                            {
                              "resourceMetadata": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                              },
                              "name": "requests/duration",
                              "aggregationType": 4,
                              "namespace": "microsoft.insights/components",
                              "metricVisualization": {
                                "displayName": "Server response time",
                                "resourceDisplayName": "[parameters('virtualMachineName')]",
                                "color": "#0078D4"
                              }
                            }
                          ],
                          "title": "Server response time",
                          "titleKind": 2,
                          "visualization": {
                            "chartType": 2
                          },
                          "openBladeOnClick": {
                            "openBlade": true,
                            "destinationBlade": {
                              "bladeName": "ResourceMenuBlade",
                              "parameters": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                "menuid": "performance"
                              },
                              "extensionName": "HubsExtension",
                              "options": {
                                "parameters": {
                                  "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                  "menuid": "performance"
                                }
                              }
                            }
                          }
                        }
                      },
                      "isOptional": true
                    },
                    {
                      "name": "sharedTimeRange",
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/HubsExtension/PartType/MonitorChartPart",
                  "settings": {
                    "content": {
                      "options": {
                        "chart": {
                          "metrics": [
                            {
                              "resourceMetadata": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                              },
                              "name": "requests/duration",
                              "aggregationType": 4,
                              "namespace": "microsoft.insights/components",
                              "metricVisualization": {
                                "displayName": "Server response time",
                                "resourceDisplayName": "[parameters('virtualMachineName')]",
                                "color": "#0078D4"
                              }
                            }
                          ],
                          "title": "Server response time",
                          "titleKind": 2,
                          "visualization": {
                            "chartType": 2,
                            "disablePinning": true
                          },
                          "openBladeOnClick": {
                            "openBlade": true,
                            "destinationBlade": {
                              "bladeName": "ResourceMenuBlade",
                              "parameters": {
                                "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                "menuid": "performance"
                              },
                              "extensionName": "HubsExtension",
                              "options": {
                                "parameters": {
                                  "id": "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]",
                                  "menuid": "performance"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "local",
                        "granularity": "auto",
                        "relative": "43200m"
                      }
                    }
                  }
                }
              },
              "4": {
                "position": {
                  "x": 14,
                  "y": 1,
                  "colSpan": 4,
                  "rowSpan": 4
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "4de08be8-00df-4104-b10a-bf3db13ca005",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P7D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | count \n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "Query": "let lbperiod = 14d;\nSailPointIDN_Triggers_CL \n| where TimeGenerated > ago(lbperiod)\n| count \n\n",
                      "PartTitle": "SailPointIDN_Triggers",
                      "PartSubTitle": "Total Count",
                      "IsQueryContainTimeRange": true
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "auto",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "5": {
                "position": {
                  "x": 2,
                  "y": 5,
                  "colSpan": 13,
                  "rowSpan": 5
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "094e3033-2a66-40d4-aa30-0c4269709da7",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| where status_s == \"FAILED\"\n| summarize type=count() by type_s\n| project type_s, type\n| render barchart\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "FrameControlChart",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "value": "StackedBar",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "value": {
                        "xAxis": {
                          "name": "type_s",
                          "type": "string"
                        },
                        "yAxis": [
                          {
                            "name": "type",
                            "type": "long"
                          }
                        ],
                        "splitBy": [],
                        "aggregation": "Sum"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "value": {
                        "isEnabled": true,
                        "position": "Bottom"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": true,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {},
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  },
                  "partHeader": {
                    "title": "Failed Search Events",
                    "subtitle": ""
                  }
                }
              },
              "6": {
                "position": {
                  "x": 1,
                  "y": 10,
                  "colSpan": 3,
                  "rowSpan": 3
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "6ad59a99-0791-445f-b405-d47fe710b321",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P1D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | where Body__metadata_triggerId_s == 'idn:identity-attributes-changed' | count \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Identity Attributes Changed",
                      "PartSubTitle": "Event Trigger"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "7": {
                "position": {
                  "x": 4,
                  "y": 10,
                  "colSpan": 3,
                  "rowSpan": 3
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "14a670c8-6ffa-4986-a511-db7883038a68",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P1D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | where Body__metadata_triggerId_s == 'idn:saved-search-complete' | count \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Saved Search Complete",
                      "PartSubTitle": "Event Trigger"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "8": {
                "position": {
                  "x": 7,
                  "y": 10,
                  "colSpan": 3,
                  "rowSpan": 3
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "78aaa4c4-0c21-4dec-b165-cb1bb7157e2a",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P1D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | where Body__metadata_triggerId_s == 'idn:identity-deleted' | count \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Identity Deleted",
                      "PartSubTitle": "Event Trigger"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "9": {
                "position": {
                  "x": 10,
                  "y": 10,
                  "colSpan": 3,
                  "rowSpan": 3
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "7bf785e7-2661-4f0a-b122-f5ee8412b23b",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P1D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | where Body__metadata_triggerId_s == 'idn:identity-created' | count \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Identity Created",
                      "PartSubTitle": "Event Trigger"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "10": {
                "position": {
                  "x": 13,
                  "y": 10,
                  "colSpan": 3,
                  "rowSpan": 3
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "8e26decd-6562-4bce-a04e-355011220e1b",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "value": "P1D",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "SailPointIDN_Triggers_CL | where Body__metadata_triggerId_s == 'idn:aggregation-accounts-collected' | count \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": false,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Accounts Collected For aggregation",
                      "PartSubTitle": "Event Trigger"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "11": {
                "position": {
                  "x": 0,
                  "y": 13,
                  "colSpan": 8,
                  "rowSpan": 5
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "158840fe-957f-497a-8678-5135721306af",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| where status_s == \"FAILED\"\n| summarize technicalName=count() by technicalName_s\n| render piechart \n\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "FrameControlChart",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "value": "Pie",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "value": {
                        "xAxis": {
                          "name": "technicalName_s",
                          "type": "string"
                        },
                        "yAxis": [
                          {
                            "name": "technicalName",
                            "type": "long"
                          }
                        ],
                        "splitBy": [],
                        "aggregation": "Sum"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "value": {
                        "isEnabled": true,
                        "position": "Bottom"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": true,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "Query": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| where status_s == \"FAILED\"\n| summarize technicalName=count() by technicalName_s\n| render piechart title=\"Failed Events\"\n\n",
                      "PartTitle": "Failures",
                      "PartSubTitle": "Events with status 'Failed'"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "12": {
                "position": {
                  "x": 8,
                  "y": 13,
                  "colSpan": 9,
                  "rowSpan": 5
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "0eb7c8bc-350c-45ba-9054-2aa849f6943f",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "let lbperiod = 14d;\nSailPointIDN_Triggers_CL \n| where TimeGenerated > ago(lbperiod)\n| summarize Events = count() by Result = strcat('Event Trigger ', Body__metadata_triggerId_s)\n| render piechart \n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "FrameControlChart",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "value": "Pie",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "value": {
                        "xAxis": {
                          "name": "Result",
                          "type": "string"
                        },
                        "yAxis": [
                          {
                            "name": "Events",
                            "type": "long"
                          }
                        ],
                        "splitBy": [],
                        "aggregation": "Sum"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "value": {
                        "isEnabled": true,
                        "position": "Bottom"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": true,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "Identity Activity",
                      "PartSubTitle": "Event Triggers"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "13": {
                "position": {
                  "x": 0,
                  "y": 18,
                  "colSpan": 9,
                  "rowSpan": 7
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "573f8081-0ce9-4b23-b411-d965e6b21420",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| summarize eventTypeCount=count() by type_s\n| sort by eventTypeCount \n| render columnchart  title=\"Types of Events\"\n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "FrameControlChart",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "value": "StackedColumn",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Types of Events",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "value": {
                        "xAxis": {
                          "name": "type_s",
                          "type": "string"
                        },
                        "yAxis": [
                          {
                            "name": "eventTypeCount",
                            "type": "long"
                          }
                        ],
                        "splitBy": [],
                        "aggregation": "Sum"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "value": {
                        "isEnabled": true,
                        "position": "Bottom"
                      },
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": true,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {},
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              },
              "14": {
                "position": {
                  "x": 9,
                  "y": 18,
                  "colSpan": 9,
                  "rowSpan": 7
                },
                "metadata": {
                  "inputs": [
                    {
                      "name": "resourceTypeMode",
                      "isOptional": true
                    },
                    {
                      "name": "ComponentId",
                      "isOptional": true
                    },
                    {
                      "name": "Scope",
                      "value": {
                        "resourceIds": [
                          "[resourceId(parameters('virtualMachineResourceGroup'), 'Microsoft.OperationalInsights/workspaces', parameters('virtualMachineName'))]"
                        ]
                      },
                      "isOptional": true
                    },
                    {
                      "name": "PartId",
                      "value": "22a8cf8d-85b1-4fa3-a143-36b0d770ab06",
                      "isOptional": true
                    },
                    {
                      "name": "Version",
                      "value": "2.0",
                      "isOptional": true
                    },
                    {
                      "name": "TimeRange",
                      "isOptional": true
                    },
                    {
                      "name": "DashboardId",
                      "isOptional": true
                    },
                    {
                      "name": "DraftRequestParameters",
                      "isOptional": true
                    },
                    {
                      "name": "Query",
                      "value": "let lbperiod = 14d;\nSailPointIDN_Events_CL\n| where TimeGenerated > ago(lbperiod)\n| project Id=id_g, TechnicalName= technicalName_s, Action=action_s, Type=type_s, CreatedTime=created_t, Operation=operation_s, Status=stack_s\n| render table   \n",
                      "isOptional": true
                    },
                    {
                      "name": "ControlType",
                      "value": "AnalyticsGrid",
                      "isOptional": true
                    },
                    {
                      "name": "SpecificChart",
                      "isOptional": true
                    },
                    {
                      "name": "PartTitle",
                      "value": "Analytics",
                      "isOptional": true
                    },
                    {
                      "name": "PartSubTitle",
                      "value": "sailpointeventcollector",
                      "isOptional": true
                    },
                    {
                      "name": "Dimensions",
                      "isOptional": true
                    },
                    {
                      "name": "LegendOptions",
                      "isOptional": true
                    },
                    {
                      "name": "IsQueryContainTimeRange",
                      "value": true,
                      "isOptional": true
                    }
                  ],
                  "type": "Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart",
                  "settings": {
                    "content": {
                      "PartTitle": "IdentityNow Events",
                      "PartSubTitle": "Total Search Events"
                    }
                  },
                  "filters": {
                    "MsPortalFx_TimeRange": {
                      "model": {
                        "format": "utc",
                        "granularity": "1mo",
                        "relative": "30d"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "metadata": {
          "model": {
            "timeRange": {
              "value": {
                "relative": {
                  "duration": 24,
                  "timeUnit": 1
                }
              },
              "type": "MsPortalFx.Composition.Configuration.ValueTypes.TimeRange"
            },
            "filterLocale": {
              "value": "en-us"
            },
            "filters": {
              "value": {
                "MsPortalFx_TimeRange": {
                  "model": {
                    "format": "utc",
                    "granularity": "1mo",
                    "relative": "30d"
                  },
                  "displayCache": {
                    "name": "UTC Time",
                    "value": "Past 30 days"
                  },
                  "filteredPartIds": [
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a89",
                    "StartboardPart-MonitorChartPart-3fedff5e-681f-48ab-a84c-e94c8e846a8b",
                    "StartboardPart-MonitorChartPart-3fedff5e-681f-48ab-a84c-e94c8e846a8d",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a8f",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a91",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a93",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a95",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a97",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a99",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a9b",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a9d",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846a9f",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846aa1",
                    "StartboardPart-LogsDashboardPart-3fedff5e-681f-48ab-a84c-e94c8e846aa3"
                  ]
                }
              }
            }
          }
        }
      },
      "name": "[parameters('dashboardName')]",
      "type": "Microsoft.Portal/dashboards",
      "location": "[parameters('location')]",
      "tags": {
        "hidden-title": "[parameters('dashboardName')]"
      },
      "apiVersion": "2015-08-01-preview"
    }
  ]

}